<header>

  <% if (typeof user !=='undefined' ) { %>
    <nav class="flex justify-between items-center p-3 bg-gray-500 ">
      <% if(user.subscription==='P' ){ %>
        <figure class=" flex items-stretch">
          <a href="/" class="w-7 h-7 sm:w-8 sm:h-8 ml-8 self-end"><img src="/images/gas.svg" alt="findgas"></a>
          <figcaption class="self-end text-xs sm:text-sm font-sans text-white">Pro</figcaption>
        </figure>
        <% } else { %>
          <a href="/" class="flex-shrink-0 w-8 h-8 ml-8"><img src="/images/gas.svg" alt="findgas"></a>
          <% } %>

            <button id="togglehamburger"
              class=" flex items-center sm:hidden py-1.5 px-2.5 text-white rounded-md border-2 border-white hover:border-yellow-600
            hover:bg-yellow-600 focus:bg-yellow-600 focus:text-white focus:border-yellow-600 focus:outline-none mr-8 m-0.5">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>

            <div id="hamburgermenu"
              class=" hidden absolute sm:relative top-14 left-0 sm:top-0 z-20 sm:flex flex-col sm:flex-row mr-8 sm:space-x-6 font-semibold w-full sm:w-auto bg-gray-100 shadow-lg rounded sm:rounded-none sm:shadow-none sm:bg-transparent p-6 pt-0 sm:p-0 ">
              <a href="/"
                class="block py-2 tracking-wide text-gray-600 sm:text-gray-100 hover:text-yellow-600 ">Home</a>
              <a href="/dashboard"
                class="block pb-2 sm:pb-0 sm:py-2 tracking-wide text-gray-600 sm:text-gray-100 hover:text-yellow-600">Dashboard</a>
              <div class=" relative self-center">

                <% if(user.subscription==='P' ){ %>
                  <div class="hidden sm:block h-7 w-7 justify-center items-center m-auto">
                    <button id="toggleprofile"
                      class="hidden sm:block w-full h-full rounded-full uppercase font-normal font-sans bg-gray-300 overflow-hidden border-2 border-gray-600 focus:outline-none focus:border-white">
                      <p class=" m-auto">
                        <%= user.name[0]%>
                      </p>
                    </button>
                    <figure class="rounded-full w-4 h-4 absolute flex -top-1 -right-1 p-0.5  ">
                      <img src="/images/crown.svg" alt="Conta Pro">
                    </figure>
                  </div>
                  <% } else { %>
                    <div class="hidden sm:block h-7 w-7 justify-center items-center m-auto">
                      <button id="toggleprofile"
                        class="hidden sm:block w-full h-full rounded-full uppercase font-normal font-sans bg-gray-300 overflow-hidden border-2 border-gray-600 focus:outline-none focus:border-white">
                        <p class=" m-auto">
                          <%= user.name[0]%>
                        </p>
                      </button>
                    </div>
                    <% } %>

                      <div id="profilemenu"
                        class=" hidden absolute right-0 w-36 mt-2 py-2 bg-white rounded-lg shadow-lg ">
                        <a href="/profile"
                          class="block px-4 py-2 tracking-wide text-sm text-gray-600 hover:text-white hover:bg-yellow-600">Perfil</a>
                        <a href="/logout"
                          class="block px-4 py-2 tracking-wide text-sm text-gray-600 hover:text-white hover:bg-yellow-600">Sair</a>
                      </div>
              </div>

              <!-- SM avatar menu-->
              <div class=" block sm:hidden pt-5 border-t mt-2 border-gray-400">
                <% if(user.subscription==='P' ){ %>
                  <div class=" flex items-center">
                    <div class=" relative self-centerr">
                      <div class="block sm:hidden h-7 w-7 justify-center items-center ml-0">
                        <div
                          class="flex sm:hidden w-full h-full rounded-full uppercase font-normal font-sans bg-gray-300 overflow-hidden border-2 border-gray-600 focus:outline-none focus:border-white">
                          <p class=" m-auto">
                            <%= user.name[0]%>
                          </p>
                        </div>
                        <figure class="rounded-full w-4 h-4 absolute flex -top-1 -right-1 p-0.5 ">
                          <img src="/images/crown.svg" alt="Conta Pro">
                        </figure>
                      </div>
                    </div>
                    <span class="ml-3 font-medium">
                      <%= user.name%>
                    </span>
                  </div>
                  <% } else { %>
                    <div class=" flex items-center">
                      <div
                        class="flex h-7 w-7 rounded-full uppercase font-normal font-sans bg-gray-300 overflow-hidden border-2 border-gray-600 focus:outline-none focus:border-white">
                        <p class=" m-auto">
                          <%= user.name[0]%>
                        </p>
                      </div>
                      <span class="ml-3 font-bold tracking-wide text-gray-700">
                        <%= user.name%>
                      </span>
                    </div>
                    <% } %>
                      <div class=" mt-3">
                        <a href="/profile"
                          class="block mt-2 tracking-wide text-sm text-gray-600 hover:text-yellow-600">Perfil</a>
                        <a href="/logout"
                          class="block mt-2 tracking-wide text-sm text-gray-600 hover:text-yellow-600">Sair</a>
                      </div>
              </div>
            </div>
    </nav>
    <script>
      document.getElementById("toggleprofile").addEventListener("mouseover", mouseOver);
      document.getElementById("profilemenu").addEventListener("mouseout", mouseOut);

      function mouseOver() {
        document.getElementById("profilemenu").classList.remove('hidden');
      }

      function mouseOut() {
        document.getElementById("profilemenu").classList.toggle('hidden');

      }

    </script>

    <% } else { %>
      <nav class="flex justify-between items-center p-3 bg-gray-100  ">
        <a class="flex-shrink-0 w-8 h-8 ml-8" href="/"><img src="/images/gas.svg" alt="findgas" class="w-8 h-8 "></a>
        <button id="togglehamburger" class=" flex items-center sm:hidden py-2 px-3 text-indigo-500 rounded border border-indigo-500
          hover:bg-indigo-500 hover:text-white focus:bg-indigo-500 focus:text-white focus:outline-none mr-8 m-0.5">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>

        <div id="hamburgermenu"
          class=" hidden absolute sm:relative top-14 left-0 sm:top-0 z-20 sm:flex flex-col sm:flex-row mr-8 sm:space-x-6 font-semibold w-full sm:w-auto bg-gray-100 shadow-lg rounded sm:rounded-none sm:shadow-none sm:bg-transparent p-6 pt-0 sm:p-0 ">
          <a href="/" class="block py-2 tracking-wide text-gray-600 hover:text-indigo-600 ">Home</a>
          <a href="/register" class="block py-2 tracking-wide text-gray-600 hover:text-indigo-600">Cadastro</a>
          <a href="/login" class="block py-2 tracking-wide text-gray-600 hover:text-indigo-600">Login</a>
        </div>
      </nav>
      <% } %>

</header>

<script src="/scripts/script.js"></script>
